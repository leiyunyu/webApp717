# 717安全食品商城项目总结
> ## 项目背景
2017中国农业(博鳌)论坛于12月3日举行，717安全食品商城CEO张传林参与，论坛围绕主题“食品安全、生态保护、创新未来”探讨食品行业发展，绿色安全食品不止是对最终产品的严格要求，也要对食品生产过程有高标准，并在业内首创了食品安全信任指数：即通过137项食品安全指标，将食品进行分类分级，达到5星被视为安全食品才能在717安全食品商城上销售。最终实现分享安全食品，分享健康快乐，分享幸福生活，让更多的中国人享用到安全食品。
> ## 项目技术点
- webpack: 自动化构架工具
- node.js: 模拟后台接口
- vue: 主流框架，用来搭建结构
- vuex: 存储数据
- vue-router: 实现路由之间跳转
- axios: 请求数据
- mint-ui: UI框架配合vue搭建结构
> ## 项目功能
该项目主要有四个功能块，分别为首页，分类，购物车，我的。该项目是由主要是由我来完成的，所以我参与各个功能的实现，先用webpack搭建底层框架，用vue搭建生成各个组件，vue-router做各个组件之间的跳转和参数的传递。

最开始我先做的是目录之间的分级，因为路由跳转最重要的就是明确路由结构，因此我将home页和登录注册页放在了同级目录之下，然后里面的结构在进行嵌套和划分。

最开始现做的就是首页的排版及功能，在首页中最重要的是数据的加载，并不是所有的数据都已经加载好，而是在做上拉的时候，当滚动条的高度达到一定的值得时候，就接着加载一定数量的数据，而且数据是一定的，通过接口请求数据，在渲染数据，加载数据的时候有一个购物车的icon，点击可添加购物车，在添加购物车的时候就会判断是否有登陆，这是就会验证浏览器中是否存在cookie，如果存在就直接添加，否则vue-router跳到登录页。

在购物车页中有对购物车的操作，分别是单选，全选和反选，数量的加减，总价的计算，在这之前我将添加到购物车的数据都存到了vuex中，使购物车数据成为了全局的数据，这样我就可以通过直接操作vuex就可以操作购物车。

最后做的是我的页面中的地址管理，其中有添加地址和删除地址，做地址管理也需要判断cookie的判断，判断cookie与登录的信息是否匹配。

> ## 问题
1. 在做上拉加载的时候，每次上拉的时候都是加载六条，但是我做的时候每次都多家在一次，后来我加了一个开关变量，在触发上拉事件的时候加上，但是加上的时候，整个上拉事件就不能触发了，最后把开关变量直接放到了事件中，并没有在定义函数触发事件的时候使用，就可以正确的加载数据了。
2. 在做购物车的时候，对购物车进行操作，在全选和反选的时候对所有的单选框选中，全选就可以选中时，我的判断是正确的，打印结果也是正确的，可就是操作不正确，后来才发现，我前面的变量的赋值的vuex中的值，如果想要触发就改变，必须得吧值放到computed中，让数据监测到之后就发生改变。
3. 在做最后的地址管理的时候，需要判断cookie的值是否正确在判断添加删除事件，开始的时候不明白为什么要判断cookie，最后发现其实就和购物车是差不断地原理，不判断，怎么知道其中添加谁的地址信息